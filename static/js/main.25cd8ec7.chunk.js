(this["webpackJsonpgreek-latin-demixer"]=this["webpackJsonpgreek-latin-demixer"]||[]).push([[0],{10:function(e,t,n){e.exports={textView:"EditXml_textView__meKBt",textPre:"EditXml_textPre__nq0it",viewHeight:"EditXml_viewHeight__2sEaS"}},12:function(e,t,n){e.exports={yellowBg:"ContentWord_yellowBg__3o1s-",yellowBgOnHover:"ContentWord_yellowBgOnHover__25vpR"}},13:function(e,t,n){e.exports={instructionsBox:"WordPanel_instructionsBox__3fBAp",instructionsList:"WordPanel_instructionsList__1xAxW"}},16:function(e,t,n){e.exports={formInput:"InputXml_formInput__31jJr"}},17:function(e,t,n){e.exports=n(31)},22:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),i=n.n(o),c=(n(22),n(2)),s=n(3),l=n(5),u=n(4),m=n(1),d=n(6),h=n(11),p=(n(23),"\u03b1\u0391\u03b2\u0392\u03b3\u0393\u03b4\u0394\u03b5\u0395\u03b6\u0396\u03b7\u0397\u03b8\u0398\u03b9\u0399\u03ba\u039a\u03bb\u039b\u03bc\u039c\u03bd\u039d\u03be\u039e\u03bf\u039f\u03c0\u03a0\u03c1\u1fe4\u1fe5\u03a1\u1fec\u03c2\u03f2\u03f9\u03c3\u03a3\u03c4\u03a4\u03c5\u03a5\u03c6\u03a6\u03c7\u03a7\u03c8\u03a8\u03c9\u03a9\u1f00\u1f01\u03ac\u1f70\u1fb6\u1fb3\u1f80\u1f81\u1fb4\u1fb2\u1fb7\u1f04\u1f05\u1f02\u1f03\u1f06\u1f07\u1f84\u1f85\u1f82\u1f83\u1f86\u1f87\u1f08\u1f09\u0386\u1fba\u1fbc\u1f88\u1f89\u1f0c\u1f0d\u1f0a\u1f0b\u1f0e\u1f0f\u1f8c\u1f8d\u1f8a\u1f8b\u1f8e\u1f8f\u1f10\u1f11\u03ad\u1f72\u1f12\u1f13\u1f14\u1f15\u1f18\u1f19\u0388\u1fc8\u1f1a\u1f1b\u1f1c\u1f1d\u1f20\u1f21\u03ae\u1f74\u1fc6\u1fc3\u1f90\u1f91\u1fc4\u1fc2\u1fc7\u1f24\u1f25\u1f22\u1f23\u1f26\u1f27\u1f94\u1f95\u1f92\u1f93\u1f96\u1f97\u1f28\u1f29\u0389\u1fca\u1fcc\u1f98\u1f99\u1f2c\u1f2d\u1f2a\u1f2b\u1f2e\u1f2f\u1f9c\u1f9d\u1f9a\u1f9b\u1f9e\u1f9f\u1f30\u1f31\u03af\u1f76\u1fd6\u03ca\u1f32\u1f33\u1f34\u1f35\u1f36\u1f37\u0390\u1fd2\u1fd7\u1f38\u1f39\u038a\u1fda\u03aa\u1f3a\u1f3b\u1f3c\u1f3d\u1f3e\u1f3f\u1f40\u1f41\u03cc\u1f78\u1f42\u1f43\u1f44\u1f45\u1f48\u1f49\u038c\u1ff8\u1f4a\u1f4b\u1f4c\u1f4d\u1f50\u1f51\u03cd\u1f7a\u1fe6\u03cb\u1f52\u1f53\u1f54\u1f55\u1f56\u1f57\u03b0\u1fe2\u1fe7\u1f59\u038e\u1fea\u03ab\u1f5b\u1f5d\u1f5f\u1f60\u1f61\u03ce\u1f7c\u1ff6\u1ff3\u1fa0\u1fa1\u1ff4\u1ff2\u1ff7\u1f64\u1f65\u1f62\u1f63\u1f66\u1f67\u1fa4\u1fa5\u1fa2\u1fa3\u1fa6\u1fa7\u1f68\u1f69\u038f\u1ffa\u1ffc\u1fa8\u1fa9\u1f6c\u1f6d\u1f6a\u1f6b\u1f6e\u1f6f\u1fac\u1fad\u1faa\u1fab\u1fae\u1faf"),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",f=new RegExp("[".concat(p,"]")),v=new RegExp("[".concat(b,"]")),g=new RegExp("([".concat(p,"][").concat(b,"])|([").concat(b,"][").concat(p,"])")),k=function(e,t){return function(n){return n.split("").map((function(n){return t.test(n)?n:e[n]||"?"})).join("")}},x={ltg:k({A:"\u0391",B:"\u0392",E:"\u0395",H:"\u0397",I:"\u0399",K:"\u039a",M:"\u039c",N:"\u039d",O:"\u039f",P:"\u03a1",T:"\u03a4",X:"\u03a7",Y:"\u03a5",Z:"\u0396",a:"\u03b1",b:"\u03b2",e:"\u03b5",i:"\u03b9",k:"\u03ba",o:"\u03bf",p:"\u03c1",t:"\u03c4",u:"\u03c5",v:"\u03bd",w:"\u03c9",x:"\u03c7"},f),gtl:k({"\u0391":"A","\u0392":"B","\u0395":"E","\u0396":"Z","\u0397":"H","\u0399":"I","\u039a":"K","\u039c":"M","\u039d":"N","\u039f":"O","\u03a1":"P","\u03a3":"E","\u03a4":"T","\u03a5":"Y","\u03a7":"X","\u03b1":"a","\u03b2":"b","\u03b4":"d","\u03b5":"e","\u03b9":"i","\u03ba":"k","\u03bd":"v","\u03bf":"o","\u03c1":"p","\u03c4":"t","\u03c5":"u","\u03c7":"x","\u03c9":"w"},v),isMixture:RegExp.prototype.test.bind(g),isGreek:RegExp.prototype.test.bind(f),isLatin:RegExp.prototype.test.bind(v)},y=function e(t,n,a,r){Object(c.a)(this,e),this.text=t||"",this.onChange=n||function(){},this.onUnselect=a||function(){},this.focus=r||function(){},this.greek=x.ltg(this.text),this.latin=x.gtl(this.text)},C=n(12),w=n.n(C),E=function(e){return e.split("").map((function(e,t){return n=e,a=t,x.isGreek(n)?r.a.createElement("span",{key:a,className:"text-danger"},n):x.isLatin(n)?r.a.createElement("span",{key:a,className:"text-primary"},n):n;var n,a}))},O=function(e){function t(e){var n;Object(c.a)(this,t);var a=(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).props.children;return n.state={text:a,selected:!1,word:void 0},n.focusRef=r.a.createRef(),n.onChange=n.onChange.bind(Object(m.a)(n)),n.onUnselect=n.onUnselect.bind(Object(m.a)(n)),n.handleKeyUp=n.handleKeyUp.bind(Object(m.a)(n)),n.focus=n.focus.bind(Object(m.a)(n)),n.handleFocus=n.handleFocus.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"onChange",value:function(e){this.setState({text:e})}},{key:"onUnselect",value:function(){this.setState({selected:!1})}},{key:"handleKeyUp",value:function(e){var t=this.props.focusCustomInput,n=this.state.word;switch(e.key){case"g":this.onChange(n.greek);break;case"l":this.onChange(n.latin);break;case"c":t()}}},{key:"focus",value:function(e){var t=this;this.setState({text:e},(function(){t.focusRef.current.focus(),t.handleFocus()}))}},{key:"handleFocus",value:function(){var e=this.state.text,t=this.props.selectActiveWord,n=new y(e,this.onChange,this.onUnselect,this.focus);t(n),this.setState({word:n,selected:!0})}},{key:"render",value:function(){var e=this.state,t=e.selected,n=e.text,a=t?w.a.yellowBg:w.a.yellowBgOnHover;return r.a.createElement("span",{className:a,onFocus:this.handleFocus,onKeyUp:this.handleKeyUp,role:"button",tabIndex:"0",ref:this.focusRef},E(n))}}]),t}(a.Component),j=/([\s\/\\\(\)"'\:\,\.;<>~\!@#\$%\^&\*\|\+\=\[\]\{\}`\?\-\u2026]+)/,I={split:function(e){return e.split(j).map((function(e){return j.test(e)?{type:"delimiter",string:e}:{type:"word",string:e}})).filter((function(e){return""!==e.string}))}},N=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).convertLine=n.convertLine.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"convertLine",value:function(e){var t=this;return I.split(e).map((function(e,n){return"word"===e.type?t.renderWord(e,n):e.string}))}},{key:"renderWord",value:function(e,t){var n=this.props,a=n.selectActiveWord,o=n.focusCustomInput;return r.a.createElement(O,{key:t,selectActiveWord:a,focusCustomInput:o},e.string)}},{key:"render",value:function(){var e=this.props.children;return this.convertLine(e)}}]),t}(a.Component),T=n(15),L=n.n(T),S=n(9),G=n(7),W=n.n(G),_=(W.a.oneOfType([W.a.object,W.a.func,W.a.string]),n(13)),F=n.n(_),R=function(e){return e.clearSelection()},U=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={customText:null,previousText:null},n.handleCustomChange=n.handleCustomChange.bind(Object(m.a)(n)),n.handleCustomClick=n.handleCustomClick.bind(Object(m.a)(n)),n.handleCustomKeyUp=n.handleCustomKeyUp.bind(Object(m.a)(n)),n.handleGreekClick=n.handleGreekClick.bind(Object(m.a)(n)),n.handleLatinClick=n.handleLatinClick.bind(Object(m.a)(n)),n.renderLatinInput=n.renderLatinInput.bind(Object(m.a)(n)),n.renderLatinTooltip=n.renderLatinTooltip.bind(Object(m.a)(n)),n.renderGreekInput=n.renderGreekInput.bind(Object(m.a)(n)),n.renderGreekTooltip=n.renderGreekTooltip.bind(Object(m.a)(n)),n.renderCustomInput=n.renderCustomInput.bind(Object(m.a)(n)),n.renderCustomTooltip=n.renderCustomTooltip.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(s.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.word.text;return n!==t.previousText?{customText:n,previousText:n}:null}}]),Object(s.a)(t,[{key:"handleCustomChange",value:function(e){this.setState({customText:e.target.value})}},{key:"handleCustomClick",value:function(){(0,this.props.word.onChange)(this.state.customText)}},{key:"handleCustomKeyUp",value:function(e){var t=this.props.word.focus,n=this.state.customText;"Enter"===e.key&&t(n)}},{key:"handleGreekClick",value:function(){var e=this.props.word;(0,e.onChange)(e.greek)}},{key:"handleLatinClick",value:function(){var e=this.props.word;(0,e.onChange)(e.latin)}},{key:"renderLatinInput",value:function(){var e=this.props.word.latin;return r.a.createElement("input",{type:"text",readOnly:!0,className:"form-control text-primary mb-1",value:e})}},{key:"renderLatinTooltip",value:function(){return""!==this.props.word.latin?r.a.createElement(S.Tooltip,{arrow:"true",position:"top",title:"This box contains the selected word with all Greek characters replaced with Latin characters. For example, \u03b1 becomes a. Click the 'Latin' button below to insert the suggestion."},this.renderLatinInput()):this.renderLatinInput()}},{key:"renderGreekInput",value:function(){var e=this.props.word.greek;return r.a.createElement("input",{type:"text",readOnly:!0,className:"form-control text-danger mb-1",value:e})}},{key:"renderGreekTooltip",value:function(){return""!==this.props.word.greek?r.a.createElement(S.Tooltip,{arrow:"true",position:"top",title:"This box contains the selected word with all Latin characters replaced with Greek characters. For example, a becomes \u03b1. Click the 'Greek' button below to insert the suggestion."},this.renderGreekInput()):this.renderGreekInput()}},{key:"renderCustomInput",value:function(){var e=this.props.customInputFocusRef,t=this.state.customText;return r.a.createElement("input",{type:"text",className:"form-control mb-1",value:t,onChange:this.handleCustomChange,onKeyUp:this.handleCustomKeyUp,ref:e})}},{key:"renderCustomTooltip",value:function(){return r.a.createElement(S.Tooltip,{arrow:"true",position:"top",title:"This box allows you to edit the selected word. Click the 'Custom' button to insert the edited word."},this.renderCustomInput())}},{key:"render",value:function(){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},this.renderLatinTooltip(),r.a.createElement("button",{type:"button",className:"btn btn-block btn-primary",onClick:this.handleLatinClick},"Latin")),r.a.createElement("div",{className:"form-group"},this.renderGreekTooltip(),r.a.createElement("button",{type:"button",className:"btn btn-block btn-danger",onClick:this.handleGreekClick},"Greek")),r.a.createElement("div",{className:"form-group"},this.renderCustomTooltip(),r.a.createElement("button",{type:"button",className:"btn btn-block btn-secondary",onClick:this.handleCustomClick},"Custom")),r.a.createElement("div",{className:"form-group"},r.a.createElement(L.a,{"button-type":"button",className:"btn btn-block btn-success mt-4","data-clipboard-target":".clipboard-target",onSuccess:R},"Copy to Clipboard")),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:F.a.instructionsBox},r.a.createElement("h6",null,"Keyboard shortcuts"),r.a.createElement("ul",{className:F.a.instructionsList},r.a.createElement("li",null,r.a.createElement("strong",null,"Tab"),": move through the document"),r.a.createElement("li",null,r.a.createElement("strong",null,"l"),": click Latin button"),r.a.createElement("li",null,r.a.createElement("strong",null,"g"),": click Greek button"),r.a.createElement("li",null,r.a.createElement("strong",null,"c"),": go to to Custom input"),r.a.createElement("li",null,r.a.createElement("strong",null,"Enter"),"(in custom input): click Custom button")))))}}]),t}(a.Component),A=n(10),B=n.n(A),K=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={activeWord:new y},n.customInputFocusRef=r.a.createRef(),n.convertText=n.convertText.bind(Object(m.a)(n)),n.selectActiveWord=n.selectActiveWord.bind(Object(m.a)(n)),n.focusCustomInput=n.focusCustomInput.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"convertText",value:function(e){var t=this.selectActiveWord,n=this.focusCustomInput;return e.split("\n").map((function(e,a){return r.a.createElement(N,{key:a,selectActiveWord:t,focusCustomInput:n},"".concat(e," \n"))}))}},{key:"selectActiveWord",value:function(e){this.state.activeWord.onUnselect(),this.setState({activeWord:e})}},{key:"focusCustomInput",value:function(){this.customInputFocusRef.current.focus()}},{key:"render",value:function(){var e=this.state.activeWord,t=this.props.text;return r.a.createElement("div",{className:B.a.textView},r.a.createElement("h1",{className:"h3 mt-2 mb-1 font-weight-normal"},"View Text"),r.a.createElement("h5",{className:"h5 mb-3 font-weight-normal"},r.a.createElement("span",{className:"text-primary"},"Latin text is blue. "),r.a.createElement("span",{className:"text-danger"},"Greek text is red. "),"Click on a word to edit it."),r.a.createElement("div",{className:"row ".concat(B.a.viewHeight)},r.a.createElement("div",{className:"col-sm-3 pt-2 border"},r.a.createElement(U,{word:e,customInputFocusRef:this.customInputFocusRef})),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("pre",{className:"".concat(B.a.textPre," clipboard-target bg-light p-1")},this.convertText(t)))))}}]),t}(a.Component),P=n(16),X=n.n(P),H=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={text:"\u0391mong innumerable poetic references, cf. Ibyc. fr. 7 \u03c4\u1fb6\u03bc\u03bf\u03c2 \u1f04\u03c5\u03c0\u03bd\u03bf\u03c2 \n\u03ba\u03bb\u03c5\u03c4\u1f78\u03c2 \u1f45\u03c1\u03b8\u03c1\u03bf\u03c2 \u1f10\u03b3\u03b5\u03af\u03c1\u03b7\u03c3\u03b9\u03bd \u1f00\u03b7\u03b4\u03cc\u03bd\u03b1\u03c2. Sim\u03bfn. fr. 73 \u03b4\u03b5\u1fe6\u03c4\u02bc \u1f00\u03b7\u03b4\u03cc\u03bd\u03b5\u03c2 \u03c0o\u03bb\u03c5\u03ba\u03ce\u03c4\u03b9\u03bb\u03bf\u03b9, \n\u03c7\u03bb\u03c9\u03c1\u03b1\u1f7a\u03c7\u03b5\u03bd\u03b5\u03c2 \u03b5\u1f30\u03b1\u03c1\u03b9\u03bd\u03b1\u03af. Callim. L. P. 94 \u03bc\u03ac\u03c4\u03b7\u03c1 \u03bc\u03ad\u03bd \u03b3\u03bf\u03b5\u03c1\u1ff6\u03bd \u03bf\u1f36\u03c4\u03bf\u03bd \u1f00\u03b7\u03b4\u03bf\u03bd\u03af\u03b4\u03c9\u03bd \n\u1f04\u03b3\u03b5 \u03b2\u03b1\u03c1\u1f7a \u03ba\u03bba\u03af\u03bf\u03c5\u03c3\u03b1. Aesch. Ag. 1116 \u03c4\u03c5\u03bd, \u03c4\u03c5\u03bd \u03c3\u03c4\u03ad\u03bd\u03bf\u03c5\u03c3\u03b1, \u1f00\u03b7\u03b4\u1f7c\u03bd. Soph. "},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){this.setState({text:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.text;(0,this.props.onSubmit)(t)}},{key:"render",value:function(){var e=this.state.text;return r.a.createElement("form",{onSubmit:this.handleSubmit,className:X.a.formInput},r.a.createElement("h1",{className:"h3 mt-2 mb-1 font-weight-normal"},"Greek and Latin Demixer"),r.a.createElement("h5",{className:"h5 mb-3 font-weight-normal"},"Enter text that contains Greek and Latin characters below."),r.a.createElement("label",{htmlFor:"xmlInput",className:"sr-only"},"Text"),r.a.createElement("textarea",{id:"xmlInput",rows:"10",className:"form-control",placeholder:"Enter text here ...",required:!0,autoFocus:!0,value:e,onChange:this.handleChange}),r.a.createElement("button",{className:"mt-3 btn btn-lg btn-primary btn-block",type:"submit"},"Go!"))}}]),t}(a.Component),D=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={text:null},n.handleInputXmlSubmit=n.handleInputXmlSubmit.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleInputXmlSubmit",value:function(e){this.setState({text:e})}},{key:"render",value:function(){var e=this.state.text;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.PerseidsHeader,null,"Greek Latin Demixer",r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:".",target:"_blank",rel:"noopener noreferrer"},"New Document")))),r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"container"},e?r.a.createElement(K,{text:e}):r.a.createElement(H,{onSubmit:this.handleInputXmlSubmit}))),r.a.createElement(h.PerseidsFooter,{github:"https://github.com/perseids-project/greek-latin-demixer",report:"https://github.com/perseids-project/greek-latin-demixer/issues"}))}}]),t}(a.Component),V=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(29),n(30);i.a.render(r.a.createElement(D,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/greek-latin-demixer",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/greek-latin-demixer","/service-worker.js");V?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):J(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):J(e)}))}}(),window.onbeforeunload=function(){return!0}}},[[17,1,2]]]);
//# sourceMappingURL=main.25cd8ec7.chunk.js.map
(this["webpackJsonpgreek-latin-demixer"]=this["webpackJsonpgreek-latin-demixer"]||[]).push([[0],{12:function(t,e,n){t.exports={instructionsBox:"WordPanel_instructionsBox__3fBAp",instructionsList:"WordPanel_instructionsList__1xAxW"}},19:function(t,e,n){t.exports={formInput:"InputXml_formInput__31jJr"}},20:function(t,e,n){t.exports=n(35)},25:function(t,e,n){},35:function(t,e,n){"use strict";n.r(e);var s=n(0),r=n.n(s),o=n(3),a=n.n(o),i=(n(25),n(8)),c=n(7);n(26);const l="\u03b1\u0391\u03b2\u0392\u03b3\u0393\u03b4\u0394\u03b5\u0395\u03b6\u0396\u03b7\u0397\u03b8\u0398\u03b9\u0399\u03ba\u039a\u03bb\u039b\u03bc\u039c\u03bd\u039d\u03be\u039e\u03bf\u039f\u03c0\u03a0\u03c1\u1fe4\u1fe5\u03a1\u1fec\u03c2\u03f2\u03f9\u03c3\u03a3\u03c4\u03a4\u03c5\u03a5\u03c6\u03a6\u03c7\u03a7\u03c8\u03a8\u03c9\u03a9\u1f00\u1f01\u03ac\u1f70\u1fb6\u1fb3\u1f80\u1f81\u1fb4\u1fb2\u1fb7\u1f04\u1f05\u1f02\u1f03\u1f06\u1f07\u1f84\u1f85\u1f82\u1f83\u1f86\u1f87\u1f08\u1f09\u0386\u1fba\u1fbc\u1f88\u1f89\u1f0c\u1f0d\u1f0a\u1f0b\u1f0e\u1f0f\u1f8c\u1f8d\u1f8a\u1f8b\u1f8e\u1f8f\u1f10\u1f11\u03ad\u1f72\u1f12\u1f13\u1f14\u1f15\u1f18\u1f19\u0388\u1fc8\u1f1a\u1f1b\u1f1c\u1f1d\u1f20\u1f21\u03ae\u1f74\u1fc6\u1fc3\u1f90\u1f91\u1fc4\u1fc2\u1fc7\u1f24\u1f25\u1f22\u1f23\u1f26\u1f27\u1f94\u1f95\u1f92\u1f93\u1f96\u1f97\u1f28\u1f29\u0389\u1fca\u1fcc\u1f98\u1f99\u1f2c\u1f2d\u1f2a\u1f2b\u1f2e\u1f2f\u1f9c\u1f9d\u1f9a\u1f9b\u1f9e\u1f9f\u1f30\u1f31\u03af\u1f76\u1fd6\u03ca\u1f32\u1f33\u1f34\u1f35\u1f36\u1f37\u0390\u1fd2\u1fd7\u1f38\u1f39\u038a\u1fda\u03aa\u1f3a\u1f3b\u1f3c\u1f3d\u1f3e\u1f3f\u1f40\u1f41\u03cc\u1f78\u1f42\u1f43\u1f44\u1f45\u1f48\u1f49\u038c\u1ff8\u1f4a\u1f4b\u1f4c\u1f4d\u1f50\u1f51\u03cd\u1f7a\u1fe6\u03cb\u1f52\u1f53\u1f54\u1f55\u1f56\u1f57\u03b0\u1fe2\u1fe7\u1f59\u038e\u1fea\u03ab\u1f5b\u1f5d\u1f5f\u1f60\u1f61\u03ce\u1f7c\u1ff6\u1ff3\u1fa0\u1fa1\u1ff4\u1ff2\u1ff7\u1f64\u1f65\u1f62\u1f63\u1f66\u1f67\u1fa4\u1fa5\u1fa2\u1fa3\u1fa6\u1fa7\u1f68\u1f69\u038f\u1ffa\u1ffc\u1fa8\u1fa9\u1f6c\u1f6d\u1f6a\u1f6b\u1f6e\u1f6f\u1fac\u1fad\u1faa\u1fab\u1fae\u1faf",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",h=new RegExp("[".concat(l,"]")),m=new RegExp("[".concat(u,"]")),d=new RegExp("([".concat(l,"][").concat(u,"])|([").concat(u,"][").concat(l,"])")),p=(t,e)=>n=>n.split("").map(n=>e.test(n)?n:t[n]||"?").join("");var g={ltg:p({A:"\u0391",B:"\u0392",E:"\u0395",H:"\u0397",I:"\u0399",K:"\u039a",M:"\u039c",N:"\u039d",O:"\u039f",P:"\u03a1",T:"\u03a4",X:"\u03a7",Y:"\u03a5",Z:"\u0396",a:"\u03b1",b:"\u03b2",e:"\u03b5",i:"\u03b9",k:"\u03ba",o:"\u03bf",p:"\u03c1",t:"\u03c4",u:"\u03c5",v:"\u03bd",w:"\u03c9",x:"\u03c7"},h),gtl:p({"\u0391":"A","\u0392":"B","\u0395":"E","\u0396":"Z","\u0397":"H","\u0399":"I","\u039a":"K","\u039c":"M","\u039d":"N","\u039f":"O","\u03a1":"P","\u03a3":"E","\u03a4":"T","\u03a5":"Y","\u03a7":"X","\u03b1":"a","\u03b2":"b","\u03b4":"d","\u03b5":"e","\u03b9":"i","\u03ba":"k","\u03bd":"v","\u03bf":"o","\u03c1":"p","\u03c4":"t","\u03c5":"u","\u03c7":"x","\u03c9":"w"},m),isMixture:RegExp.prototype.test.bind(d),isGreek:RegExp.prototype.test.bind(h),isLatin:RegExp.prototype.test.bind(m)};var b=class{constructor(t,e,n,s){this.text=t||"",this.onChange=e||(()=>{}),this.onUnselect=n||(()=>{}),this.focus=s||(()=>{}),this.greek=g.ltg(this.text),this.latin=g.gtl(this.text)}},x=n(9),E=n.n(x);const v=t=>t.split("").map((t,e)=>{return n=t,s=e,g.isGreek(n)?r.a.createElement("span",{key:s,className:"text-danger"},n):g.isLatin(n)?r.a.createElement("span",{key:s,className:"text-primary"},n):n;var n,s});class k extends s.Component{constructor(t){super(t);const e=this.props.children;this.state={text:e,selected:!1,word:void 0},this.focusRef=r.a.createRef(),this.onChange=this.onChange.bind(this),this.onUnselect=this.onUnselect.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.focus=this.focus.bind(this),this.handleFocus=this.handleFocus.bind(this)}onChange(t){this.setState({text:t})}onUnselect(){this.setState({selected:!1})}handleKeyUp(t){const e=this.props.focusCustomInput,n=this.state.word;switch(t.key){case"g":this.onChange(n.greek);break;case"l":this.onChange(n.latin);break;case"c":e()}}focus(t){this.setState({text:t},()=>{this.focusRef.current.focus(),this.handleFocus()})}handleFocus(){const t=this.state.text,e=this.props.selectActiveWord,n=new b(t,this.onChange,this.onUnselect,this.focus);e(n),this.setState({word:n,selected:!0})}render(){const t=this.state,e=t.selected,n=t.text,s=e?E.a.yellowBg:E.a.yellowBgOnHover;return r.a.createElement("span",{className:s,onFocus:this.handleFocus,onKeyUp:this.handleKeyUp,role:"button",tabIndex:"0",ref:this.focusRef},v(n))}}var w=k;const f=/([\s\/\\\(\)"'\:\,\.;<>~\!@#\$%\^&\*\|\+\=\[\]\{\}`\?\-\u2026]+)/;var C={split:t=>t.split(f).map(t=>f.test(t)?{type:"delimiter",string:t}:{type:"word",string:t}).filter(({string:t})=>""!==t)};class y extends s.Component{constructor(t){super(t),this.convertLine=this.convertLine.bind(this)}convertLine(t){return C.split(t).map((t,e)=>"word"===t.type?this.renderWord(t,e):t.string)}renderWord(t,e){const n=this.props,s=n.selectActiveWord,o=n.focusCustomInput;return r.a.createElement(w,{key:e,selectActiveWord:s,focusCustomInput:o},t.string)}render(){const t=this.props.children;return this.convertLine(t)}}var I=y,T=n(16),N=n.n(T),L=n(4),S=n(2);Object(S.oneOfType)([S.object,S.func,S.string]);var G=n(17);var W=Object(G.createI18n)(["en"],{en:{title:"Greek Latin Demixer",newDoc:"New Document",input:{title:"Greek and Latin Demixer",instructions:"Enter text that contains Greek and Latin characters below.",text:"Text",go:"Go!"},output:{viewText:"View Text",latinText:"Latin text is blue. ",greekText:"Greek text is red. ",click:"Click on a word to edit it.",latin:"Latin",greek:"Greek",custom:"Custom",copy:"Copy to Clipboard"},shortcuts:{title:"Keyboard shortcuts",move:": move through the document",latinButton:": click Latin button",greekButton:": click Greek button",customInput:": go to Custom input",customButton:" (in custom input): click Custom button"}}}),_=n(12),B=n.n(_);const R=t=>t.clearSelection();class F extends s.Component{static getDerivedStateFromProps(t,e){const n=t.word.text;return n!==e.previousText?{customText:n,previousText:n}:null}constructor(t){super(t),this.state={customText:null,previousText:null},this.handleCustomChange=this.handleCustomChange.bind(this),this.handleCustomClick=this.handleCustomClick.bind(this),this.handleCustomKeyUp=this.handleCustomKeyUp.bind(this),this.handleGreekClick=this.handleGreekClick.bind(this),this.handleLatinClick=this.handleLatinClick.bind(this),this.renderLatinInput=this.renderLatinInput.bind(this),this.renderLatinTooltip=this.renderLatinTooltip.bind(this),this.renderGreekInput=this.renderGreekInput.bind(this),this.renderGreekTooltip=this.renderGreekTooltip.bind(this),this.renderCustomInput=this.renderCustomInput.bind(this),this.renderCustomTooltip=this.renderCustomTooltip.bind(this)}handleCustomChange(t){this.setState({customText:t.target.value})}handleCustomClick(){(0,this.props.word.onChange)(this.state.customText)}handleCustomKeyUp(t){const e=this.props.word.focus,n=this.state.customText;"Enter"===t.key&&e(n)}handleGreekClick(){const t=this.props.word;(0,t.onChange)(t.greek)}handleLatinClick(){const t=this.props.word;(0,t.onChange)(t.latin)}renderLatinInput(){const t=this.props.word.latin;return r.a.createElement("input",{type:"text",readOnly:!0,className:"form-control text-primary mb-1",value:t})}renderLatinTooltip(){return""!==this.props.word.latin?r.a.createElement(L.Tooltip,{arrow:"true",position:"top",title:"This box contains the selected word with all Greek characters replaced with Latin characters. For example, \u03b1 becomes a. Click the 'Latin' button below to insert the suggestion."},this.renderLatinInput()):this.renderLatinInput()}renderGreekInput(){const t=this.props.word.greek;return r.a.createElement("input",{type:"text",readOnly:!0,className:"form-control text-danger mb-1",value:t})}renderGreekTooltip(){return""!==this.props.word.greek?r.a.createElement(L.Tooltip,{arrow:"true",position:"top",title:"This box contains the selected word with all Latin characters replaced with Greek characters. For example, a becomes \u03b1. Click the 'Greek' button below to insert the suggestion."},this.renderGreekInput()):this.renderGreekInput()}renderCustomInput(){const t=this.props.customInputFocusRef,e=this.state.customText;return r.a.createElement("input",{type:"text",className:"form-control mb-1",value:e,onChange:this.handleCustomChange,onKeyUp:this.handleCustomKeyUp,ref:t})}renderCustomTooltip(){return r.a.createElement(L.Tooltip,{arrow:"true",position:"top",title:"This box allows you to edit the selected word. Click the 'Custom' button to insert the edited word."},this.renderCustomInput())}render(){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},this.renderLatinTooltip(),r.a.createElement("button",{type:"button",className:"btn btn-block btn-primary",onClick:this.handleLatinClick},r.a.createElement(W,{t:"output.latin"}))),r.a.createElement("div",{className:"form-group"},this.renderGreekTooltip(),r.a.createElement("button",{type:"button",className:"btn btn-block btn-danger",onClick:this.handleGreekClick},r.a.createElement(W,{t:"output.greek"}))),r.a.createElement("div",{className:"form-group"},this.renderCustomTooltip(),r.a.createElement("button",{type:"button",className:"btn btn-block btn-secondary",onClick:this.handleCustomClick},r.a.createElement(W,{t:"output.custom"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement(N.a,{"button-type":"button",className:"btn btn-block btn-success mt-4","data-clipboard-target":".clipboard-target",onSuccess:R},r.a.createElement(W,{t:"output.copy"}))),r.a.createElement("div",{className:"form-group d-none d-sm-block"},r.a.createElement("div",{className:B.a.instructionsBox},r.a.createElement("h6",null,r.a.createElement(W,{t:"shortcuts.title"})),r.a.createElement("ul",{className:B.a.instructionsList},r.a.createElement("li",null,r.a.createElement("strong",null,"Tab"),r.a.createElement(W,{t:"shortcuts.move"})),r.a.createElement("li",null,r.a.createElement("strong",null,"l"),r.a.createElement(W,{t:"shortcuts.latinButton"})),r.a.createElement("li",null,r.a.createElement("strong",null,"g"),r.a.createElement(W,{t:"shortcuts.greekButton"})),r.a.createElement("li",null,r.a.createElement("strong",null,"c"),r.a.createElement(W,{t:"shortcuts.customInput"})),r.a.createElement("li",null,r.a.createElement("strong",null,"Enter"),r.a.createElement(W,{t:"shortcuts.customButton"}))))))}}var U=F,A=n(5),K=n.n(A);class O extends s.Component{constructor(t){super(t),this.state={activeWord:new b},this.customInputFocusRef=r.a.createRef(),this.convertText=this.convertText.bind(this),this.selectActiveWord=this.selectActiveWord.bind(this),this.focusCustomInput=this.focusCustomInput.bind(this)}convertText(t){const e=this.selectActiveWord,n=this.focusCustomInput;return t.split("\n").map((t,s)=>r.a.createElement(I,{key:s,selectActiveWord:e,focusCustomInput:n},"".concat(t," \n")))}selectActiveWord(t){this.state.activeWord.onUnselect(),this.setState({activeWord:t})}focusCustomInput(){this.customInputFocusRef.current.focus()}render(){const t=this.state.activeWord,e=this.props.text;return r.a.createElement("div",{className:K.a.textView},r.a.createElement("h1",{className:"h3 mt-2 mb-1 font-weight-normal"},r.a.createElement(W,{t:"output.viewText"})),r.a.createElement("h5",{className:"h5 mb-3 font-weight-normal"},r.a.createElement("span",{className:"text-primary"},r.a.createElement(W,{t:"output.latinText"})),r.a.createElement("span",{className:"text-danger"},r.a.createElement(W,{t:"output.greekText"})),r.a.createElement(W,{t:"output.click"})),r.a.createElement("div",{className:"row ".concat(K.a.viewHeight)},r.a.createElement("div",{className:"col-3 pt-2 border"},r.a.createElement(U,{word:t,customInputFocusRef:this.customInputFocusRef})),r.a.createElement("div",{className:"col-9"},r.a.createElement("pre",{className:"".concat(K.a.textPre," clipboard-target bg-light p-1")},this.convertText(e)))))}}var P=O,X=n(19),j=n.n(X);class H extends s.Component{constructor(t){super(t),this.state={text:"\u0391mong innumerable poetic references, cf. Ibyc. fr. 7 \u03c4\u1fb6\u03bc\u03bf\u03c2 \u1f04\u03c5\u03c0\u03bd\u03bf\u03c2 \n\u03ba\u03bb\u03c5\u03c4\u1f78\u03c2 \u1f45\u03c1\u03b8\u03c1\u03bf\u03c2 \u1f10\u03b3\u03b5\u03af\u03c1\u03b7\u03c3\u03b9\u03bd \u1f00\u03b7\u03b4\u03cc\u03bd\u03b1\u03c2. Sim\u03bfn. fr. 73 \u03b4\u03b5\u1fe6\u03c4\u02bc \u1f00\u03b7\u03b4\u03cc\u03bd\u03b5\u03c2 \u03c0o\u03bb\u03c5\u03ba\u03ce\u03c4\u03b9\u03bb\u03bf\u03b9, \n\u03c7\u03bb\u03c9\u03c1\u03b1\u1f7a\u03c7\u03b5\u03bd\u03b5\u03c2 \u03b5\u1f30\u03b1\u03c1\u03b9\u03bd\u03b1\u03af. Callim. L. P. 94 \u03bc\u03ac\u03c4\u03b7\u03c1 \u03bc\u03ad\u03bd \u03b3\u03bf\u03b5\u03c1\u1ff6\u03bd \u03bf\u1f36\u03c4\u03bf\u03bd \u1f00\u03b7\u03b4\u03bf\u03bd\u03af\u03b4\u03c9\u03bd \n\u1f04\u03b3\u03b5 \u03b2\u03b1\u03c1\u1f7a \u03ba\u03bba\u03af\u03bf\u03c5\u03c3\u03b1. Aesch. Ag. 1116 \u03c4\u03c5\u03bd, \u03c4\u03c5\u03bd \u03c3\u03c4\u03ad\u03bd\u03bf\u03c5\u03c3\u03b1, \u1f00\u03b7\u03b4\u1f7c\u03bd. Soph. "},this.handleChange=this.handleChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}handleChange(t){this.setState({text:t.target.value})}handleSubmit(t){t.preventDefault();const e=this.state.text;(0,this.props.onSubmit)(e)}render(){const t=this.state.text;return r.a.createElement("form",{onSubmit:this.handleSubmit,className:j.a.formInput},r.a.createElement("h1",{className:"h3 mt-2 mb-1 font-weight-normal"},r.a.createElement(W,{t:"input.title"})),r.a.createElement("h5",{className:"h5 mb-3 font-weight-normal"},r.a.createElement(W,{t:"input.instructions"})),r.a.createElement("label",{htmlFor:"xmlInput",className:"sr-only"},r.a.createElement(W,{t:"input.text"})),r.a.createElement("textarea",{id:"xmlInput",rows:"10",className:"form-control",placeholder:"Enter text here ...",required:!0,autoFocus:!0,value:t,onChange:this.handleChange}),r.a.createElement("button",{className:"mt-3 btn btn-lg btn-primary btn-block",type:"submit"},r.a.createElement(W,{t:"input.go"})))}}var D=H;class V extends s.Component{constructor(t){super(t),this.state={text:null},this.handleInputXmlSubmit=this.handleInputXmlSubmit.bind(this)}handleInputXmlSubmit(t){this.setState({text:t})}render(){const t=this.state.text;return r.a.createElement(c.BrowserRouter,null,r.a.createElement(i.PerseidsHeader,null,r.a.createElement(W,{t:"title"}),r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:".",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(W,{t:"newDoc"}))))),r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"container-md"},t?r.a.createElement(P,{text:t}):r.a.createElement(D,{onSubmit:this.handleInputXmlSubmit}))),r.a.createElement(i.PerseidsFooter,{github:"https://github.com/perseids-project/greek-latin-demixer",report:"https://github.com/perseids-project/greek-latin-demixer/issues"}))}}var J=V;const M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(t){navigator.serviceWorker.register(t).then(t=>{t.onupdatefound=()=>{const e=t.installing;e.onstatechange=()=>{"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(t=>{console.error("Error during service worker registration:",t)})}n(33),n(34);a.a.render(r.a.createElement(J,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/demixer",window.location).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="".concat("/demixer","/service-worker.js");M?(!function(t){fetch(t).then(e=>{404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(t=>{t.unregister().then(()=>{window.location.reload()})}):q(t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):q(t)})}}(),window.onbeforeunload=function(){return!0}},5:function(t,e,n){t.exports={textView:"EditXml_textView__meKBt",textPre:"EditXml_textPre__nq0it",viewHeight:"EditXml_viewHeight__2sEaS"}},9:function(t,e,n){t.exports={yellowBg:"ContentWord_yellowBg__3o1s-",yellowBgOnHover:"ContentWord_yellowBgOnHover__25vpR"}}},[[20,1,2]]]);
//# sourceMappingURL=main.f2b0be05.chunk.js.map